# Requirements Analysis

<요구 사항 분석서>

게임을 설계하고 만들어 본 경험이 거의 없기 때문에  
전문가처럼 체계적이고 디테일한 요구 분석서를 작성하는 건 불가능하다.

요구 사항을 완벽하게 명시한 뒤에 코딩에 돌입하는 것이 아니라,  
설계/구현 루틴을 수없이 돌리는 방식을 택한다.

수없이 읽히고 수정될 문서 중 하나.  

---

## Index

[Index](#index)  
[TODO](#todo)  
[모범 시나리오](#모범-시나리오)  
[룰(Rule)](#룰rule)  
[입출력 요구 사항](#입출력-요구-사항)  
[프로그래밍 요구 사항](#프로그래밍-요구-사항)  
[Coding Standard](#coding-standard)



---

## TODO

### [설계](./solution.md#설계)

- [ ] UI 설계
- [ ] HUD 설계

- [ ] 멀티 프로세스/쓰레드 프로그래밍 구조 설계  
    아마 단일 쓰레드로는 쉽지 않을 듯.


### [구현](./solution.md#구현)

- [ ] 게임 프레임(엔진)

- [ ] 테트로미노 모델링

- [ ] 입력 체계

- [ ] 점수 시스템


---

## 모범 시나리오(레퍼런스)

이 정도 수준까지 구현하는 건 무리겠지만,
참고할 만한 구현물들.

- [TETRIS 99](https://namu.wiki/w/TETRIS%2099)
- [Tetris Effect](https://namu.wiki/w/Tetris%20Effect)
- [TETRIS](https://tetris.com/play-tetris) (아마 오리지널인듯?)

이걸 콘솔 상에서 구현해보는 것이 원하는 결과물.

---

## 룰(Rule)

2차원 좌표계에 커다란 행렬(매트릭스)이 있다.  

게임이 시작되면

행렬의 스카이라인(상단 경계선)에서 테트로미노가 일정 주기로 1개씩 나온다(spawn).  
테트로미노는 일정 속도로 아래 방향으로 떨어지며 바닥과 닿으면 정지한다.

플레이어는 테트로미노를 회전, 이동, 가속할 수 있다.  
(한번에 맨 아래 블럭에 닿게끔 하는 연산도 지원하면 좋을 듯.  
테트로미노(Tetromino)에 대해 자세히 알고 싶다면 -> [위키피디아](https://en.wikipedia.org/wiki/Tetromino))

빈 공간 없이 블록의 수평 행을 채우면 해당 라인이 클리어된다. (위에 있던 블록은 아래로 떨어짐)

테트로미노가 스카이라인을 넘어 서면 게임이 종료된다.

플레이어는 전략적으로 테트로미노 연산을 사용하여 최대한 버티면서 게임을 플레이 한다.



(점수 시스템도 있어야 하는데 이건 나중에)

---


## 입출력 요구 사항

'기능 요구 사항'이라고 해야 하나..  
일단 두서 없이 막 나열하고, 다듬는 방식을 택한다.

### 입력

- 표준 입력

    - 키보드
        
        - 게임 실행 전반에 걸쳐서 사용자가 키보드로 문자를 입력하면 그에 대응하는 이벤트가 일어나야 한다.

- 마우스 - 미정

- 게임 패드 - 미정

### 출력

- 표준 출력

    - 모니터

        - 게임 실행 전반에 걸쳐서 일정한 FPS로 매 단위 시간마다 정의된 로직을 지키며 게임 이미지를 출력해야 한다.

- 스피커(사운드) - 미정




---


## 프로그래밍 요구 사항

- 출처: [우테코 프리코스](https://github.com/woowacourse-precourse/java-lotto#-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EC%9A%94%EA%B5%AC-%EC%82%AC%ED%95%AD)


반드시 지키지 않아도 된다.

개인 프로젝트이기도 하고 생산성 측면도 있고.  
지나치게 코딩 컨벤션에 집착하면 사고의 폭을 좁힐 수도 있다고 생각한다.

그냥 이런 뉘앙스를 인지하고 프로그래밍 한다 정도?


- 가능한 한 코드 포맷은 IDE의 자동 정렬 기능을 따른다. (visual studio code의 경우 Alt+Shift+F)

- indent(인덴트, 들여쓰기) depth를 3이 넘지 않도록 구현한다. 2까지만 허용한다.
  - 예를 들어 while문 안에 if문이 있으면 들여쓰기는 2이다.
  - 힌트: indent(인덴트, 들여쓰기) depth를 줄이는 좋은 방법은 함수(또는 메서드)를 분리하면 된다.

- 3항 연산자를 쓰지 않는다.

- 함수(또는 메서드)의 길이가 15라인을 넘어가지 않도록 구현한다.
  - 함수(또는 메서드)가 한 가지 일만 하도록 최대한 작게 만들어라.

- else 예약어를 쓰지 않는다.
  - 힌트: if 조건절에서 값을 return하는 방식으로 구현하면 else를 사용하지 않아도 된다.
  - else를 쓰지 말라고 하니 switch/case로 구현하는 경우가 있는데 switch/case도 허용하지 않는다.

---

## Coding Standard

* 매크로 정의할 때 라이브러리에 선언된 것과 겹치지 않도록 주의!!
* [POCU 아카데미 C 코딩 표준](https://docs.popekim.com/ko/coding-standards/pocu-c)(Linux 프로그래밍용)